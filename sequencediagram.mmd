sequenceDiagram
    participant User
    participant ArchitectureChatDemo
    participant BedrockRuntime
    participant JoyCountTool

    User->>ArchitectureChatDemo: Start conversation
    ArchitectureChatDemo->>User: Request architecture diagram filename
    User->>ArchitectureChatDemo: Provide filename

    loop Until user exits
        User->>ArchitectureChatDemo: Enter input

        alt Has architecture diagram
            ArchitectureChatDemo->>ArchitectureChatDemo: Read image file
            ArchitectureChatDemo->>ArchitectureChatDemo: Create message with image and text
        else No architecture diagram
            ArchitectureChatDemo->>ArchitectureChatDemo: Create message with text only
        end

        ArchitectureChatDemo->>BedrockRuntime: Send conversation to Bedrock

        alt Tool use requested
            BedrockRuntime-->>ArchitectureChatDemo: Request tool execution
            alt Joy Count requested
                ArchitectureChatDemo->>JoyCountTool: Invoke tool
                JoyCountTool-->>ArchitectureChatDemo: Return joy count
            end
            ArchitectureChatDemo->>BedrockRuntime: Send tool results
        end

        BedrockRuntime-->>ArchitectureChatDemo: Return response
        ArchitectureChatDemo-->>User: Display response
    end
